!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("kbone-ui",[],e):"object"==typeof exports?exports["kbone-ui"]=e():t["kbone-ui"]=e()}(this,(function(){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(n,s,function(e){return t[e]}.bind(null,s));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=21)}([function(t,e,i){"use strict";i.d(e,"f",(function(){return n})),i.d(e,"c",(function(){return s})),i.d(e,"b",(function(){return a})),i.d(e,"g",(function(){return o})),i.d(e,"e",(function(){return r})),i.d(e,"a",(function(){return l})),i.d(e,"d",(function(){return h}));var n="function"==typeof Page&&"function"==typeof Component;function s(t,e,i){i="string"==typeof e?[e]:e;for(var n=t.$parent,s=n.$options.name;n&&(!s||i.indexOf(s)<0);)(n=n.$parent)&&(s=n.$options.name);return n}function a(t,e){return t.$children.reduce((function(t,i){i.$options.name===e&&t.push(i);var n=a(i,e);return t.concat(n)}),[])}var o={linear:function(t,e,i,n){return(i-e)*t/n+e},easeInCubic:function(t,e,i,n){return(i-e)*(t/=n)*t*t+e},easeOutCubic:function(t,e,i,n){return(i-e)*((t=t/n-1)*t*t+1)+e},easeInOutCubic:function(t,e,i,n){var s=i-e;return(t/=n/2)<1?s/2*t*t*t+e:s/2*((t-=2)*t*t+2)+e}};function r(t){return t%1!=0}function l(t){if(t=+t,isNaN(t)||!r(t))return 0;var e=t.toString();return/\./.test(e)?e.split(".")[1].length:+e.split("e-")[1]}function h(t,e,i){return t<e?e:t>i?i:t}},function(t,e,i){"use strict";function n(t,e,i,n,s,a,o,r){var l,h="function"==typeof t?t.options:t;if(e&&(h.render=e,h.staticRenderFns=i,h._compiled=!0),n&&(h.functional=!0),a&&(h._scopeId="data-v-"+a),o?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),s&&s.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},h._ssrRegister=l):s&&(l=r?function(){s.call(this,this.$root.$options.shadowRoot)}:s),l)if(h.functional){h._injectStyles=l;var c=h.render;h.render=function(t,e){return l.call(e),c(t,e)}}else{var u=h.beforeCreate;h.beforeCreate=u?[].concat(u,l):[l]}return{exports:t,options:h}}i.d(e,"a",(function(){return n}))},function(t,e,i){"use strict";i.r(e);var n={name:"KView",props:{hoverStartTime:{type:Number,value:50,public:!0},hoverStayTime:{type:Number,value:400,public:!0},hoverStopPropagation:{type:Boolean,value:!1},hoverClass:{type:String,value:""}},methods:{clickHander:function(t){this.$emit("click",t)},touchStartHander:function(t){this.$emit("touchstart",t)},touchEndHander:function(t){this.$emit("touchend",t)},touchMoveHander:function(t){this.$emit("touchmove",t)}}},s=i(1),a=Object(s.a)(n,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{attrs:{hoverStartTime:t.hoverStartTime,hoverStayTime:t.hoverStayTime,hoverStopPropagation:t.hoverStopPropagation,hoverClass:t.hoverClass},on:{click:t.clickHander,touchstart:t.touchStartHander,touchend:t.touchEndHander,touchmove:t.touchMoveHander}},[t._t("default")],2)}),[],!1,null,null,null).exports;a.install=function(t){t.component(a.name,a)};e.default=a},function(t,e,i){"use strict";i.r(e);var n=i(0),s={name:"KRadio",props:{value:{type:[Number,String,Boolean]},checked:{type:Boolean,default:!1},disabled:{type:Boolean}},data:function(){return{isGroup:!1,isChecked:this.checked,label:this.value,parent:Object(n.c)(this,"KRadioGroup")}},watch:{checked:function(t){this.isChecked=t}},mounted:function(){this.parent&&(this.isGroup=!0)},methods:{handleChange:function(t){this.disabled||(this.isChecked=t.target.checked,this.$emit("input",this.isChecked),this.isGroup?this.parent.change(this.label):this.$emit("change",this.isChecked))}}},a=i(1),o=Object(a.a)(s,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("label",{staticClass:"weui-cell weui-check__label weui-cells_radio"},[i("KView",{staticClass:"weui-cell__bd"},[t._t("default")],2),i("KView",{staticClass:"weui-cell__ft"},[t.isGroup?i("input",{staticClass:"weui-check",attrs:{disabled:t.disabled,type:"radio"},domProps:{value:t.label,checked:t.isChecked},on:{change:t.handleChange}}):i("input",{staticClass:"weui-check",attrs:{disabled:t.disabled,type:"radio"},domProps:{checked:t.checked},on:{change:t.handleChange}}),i("span",{staticClass:"weui-icon-checked",class:{"is-checked":t.isChecked}})])],1)}),[],!1,null,null,null).exports,r={name:"KRadioGroup",props:{value:{type:[String,Number,Boolean]}},data:function(){return{currentValue:this.value}},watch:{value:function(t){this.currentValue=t},currentValue:function(){this.updateModel()}},mounted:function(){this.updateModel()},methods:{updateModel:function(){var t=this;this.childs=Object(n.b)(this,"KRadio"),this.childs.forEach((function(e){e.label===t.currentValue?e.isChecked=!0:e.isChecked=!1}))},change:function(t){this.currentValue=t,this.$emit("input",t),this.$emit("change",t)}}},l=Object(a.a)(r,(function(){var t=this.$createElement;return(this._self._c||t)("KView",[this._t("default")],2)}),[],!1,null,null,null).exports,h=i(2),c={name:"KCells",components:{KView:h.default},props:{title:{type:String,value:""},footer:{type:String,value:""}},computed:{classObject:function(){return{}}}},u=Object(a.a)(c,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("KView",{staticClass:"weui-cells__group "},[t.title?i("KView",{staticClass:"weui-cells__title"},[t._v("\n    "+t._s(t.title)+"\n  ")]):t._e(),i("KView",{staticClass:"weui-cells weui-cells_after-title weui-cells_form",class:t.classObject},[t._t("default")],2),t.footer?i("KView",{staticClass:"weui-cells__tips"},[t._v("\n    "+t._s(t.footer)+"\n  ")]):t._t("footer")],2)}),[],!1,null,null,null).exports,d={name:"KCell",components:{KView:h.default},props:{extClass:{type:String,value:""},iconClass:{type:String,value:""},bodyClass:{type:String,value:""},icon:{type:String,value:""},title:{type:String,value:""},value:{type:String,value:""},showError:{type:Boolean,value:!1},prop:{type:String,value:""},footerClass:{type:String,value:""},footer:{type:String,value:""},inline:{type:Boolean,value:!0}}},p=Object(a.a)(d,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("KView",{staticClass:"weui-cell"},[t.value?i("KView",{staticClass:"weui-cell__bd"},[t._v("\n    "+t._s(t.value)+" \n    "),t._t("default")],2):i("KView",{staticClass:"weui-cell__bd"},[[t.icon?i("img",{staticClass:"weui-cell__icon",attrs:{src:t.icon}}):t._e(),t._t("icon")],[t._v("\n        "+t._s(t.title)+"\n        "),t._t("title")]],2),i("KView",{staticClass:"weui-cell__ft"},[t._v("\n    "+t._s(t.footer)+"\n    "),t._t("footer")],2)],1)}),[],!1,null,null,null).exports,f={name:"KCheckbox",props:{value:{type:[Number,String,Boolean]},checked:{type:Boolean,default:!1},disabled:{type:Boolean}},data:function(){return{model:[],isGroup:!1,isChecked:this.checked,currentValue:this.value,parent:Object(n.c)(this,"KCheckboxGroup")}},watch:{value:function(t){this.updateModel()}},mounted:function(){this.parent=Object(n.c)(this,"KCheckboxGroup"),this.parent&&(this.isGroup=!0,this.showSlot=!0)},methods:{handleChange:function(t){this.disabled||(this.isChecked=t.target.checked,this.currentValue=this.isChecked,this.$emit("input",this.isChecked),this.isGroup?this.parent.change(this.model):this.$emit("change",this.isChecked))},updateModel:function(){this.currentValue=this.value}}},m=Object(a.a)(f,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("label",{staticClass:"weui-cell weui-check__label weui-cells_checkbox"},[i("KView",{staticClass:"weui-cell__hd"},[t.isGroup?i("input",{directives:[{name:"model",rawName:"v-model",value:t.model,expression:"model"}],staticClass:"weui-check ",attrs:{disabled:t.disabled,type:"checkbox"},domProps:{value:t.value,checked:t.checked,checked:Array.isArray(t.model)?t._i(t.model,t.value)>-1:t.model},on:{change:[function(e){var i=t.model,n=e.target,s=!!n.checked;if(Array.isArray(i)){var a=t.value,o=t._i(i,a);n.checked?o<0&&(t.model=i.concat([a])):o>-1&&(t.model=i.slice(0,o).concat(i.slice(o+1)))}else t.model=s},t.handleChange]}}):i("input",{staticClass:"weui-check",attrs:{disabled:t.disabled,type:"checkbox"},domProps:{checked:t.checked},on:{change:t.handleChange}}),i("i",{staticClass:"weui-icon-checked",class:{isChecked:t.isChecked}})]),i("KView",{staticClass:"weui-cell__bd"},[t._t("default")],2)],1)}),[],!1,null,null,null).exports,v={name:"KCheckboxGroup",props:{value:{type:Array,default:function(){return[]}}},data:function(){return{ismp:n.f,currentValue:this.value}},watch:{value:function(t){this.currentValue=t},currentValue:function(){this.updateModel(!0)}},mounted:function(){this.updateModel(!0)},methods:{updateModel:function(t){if(this.childs=Object(n.b)(this,"KCheckbox"),this.childs){var e=this.currentValue;this.childs.forEach((function(i){i.model=e,t&&(i.currentValue=e.indexOf(i.label)>=0,i.isGroup=!0)}))}},change:function(t){this.currentValue=t,this.$emit("input",t),this.$emit("change",t)}}},g=Object(a.a)(v,(function(){var t=this.$createElement;return(this._self._c||t)("KView",[this._t("default")],2)}),[],!1,null,null,null).exports,_={name:"KSwitch",props:{label:{type:String},value:{type:Boolean,required:!0},disabled:{type:Boolean}},data:function(){return{isChecked:this.value,ismp:n.f}},methods:{handleChange:function(t){this.disabled||(this.isChecked=t.target.checked,n.f&&(console.log(t.detail.value),this.isChecked=t.detail.value),this.$emit("input",this.isChecked),this.$emit("change",{detail:this.isChecked}))}}},w=Object(a.a)(_,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("KView",{staticClass:"weui-cell weui-cell_switch"},[t.label?i("KView",{staticClass:"weui-cell__bd"},[t._v("\n    "+t._s(t.label)+"\n  ")]):t._e(),i("KView",{staticClass:"weui-cell__ft"},[i("label",{staticClass:"weui-switch-cp"},[t.ismp?i("wx-switch",{staticClass:"weui-switch-cp__input",attrs:{disabled:t.disabled,checked:t.isChecked},on:{change:t.handleChange}}):i("input",{staticClass:"weui-switch-cp__input",attrs:{disabled:t.disabled,type:"checkbox"},domProps:{checked:t.isChecked},on:{change:t.handleChange}}),i("KView",{staticClass:"weui-switch-cp__box",class:{"is-checked":t.isChecked}})],1)])],1)}),[],!1,null,null,null).exports,y={name:"KInput",props:{label:{type:String},value:{type:String,default:""},clearable:{type:Boolean},focus:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},placeholder:{type:String,default:""},autoFocus:{type:Boolean,value:!1,public:!0},placeholderStyle:{type:String,value:"",public:!0},placeholderClass:{type:String,value:""},dropdownStyle:{type:Object,value:{},public:!0},showValue:{type:String,value:""},maxlength:{type:Number,value:140,observer:"_maxlengthChanged",public:!0},type:{type:String,value:"text",public:!0},password:{type:Boolean,value:!1,public:!0},confirmHold:{type:Boolean,value:!1,public:!0},cursor:{type:null,value:-1,public:!0},selectionStart:{type:null,value:-1,public:!0},selectionEnd:{type:null,value:-1,public:!0},adjustPosition:{type:Boolean,value:!0},holdKeyboard:{type:Boolean,value:!1}},watch:{value:function(t){t!==this.internalValue&&(this.internalValue=t)}},data:function(){return{internalValue:this.value,internalFocused:this.focus}},methods:{handleClear:function(){this.internalValue="",this.$refs.field.focus(),this.$emit("clear"),this.$emit("input",""),this.$emit("change","")},inputHandler:function(t){if(this.readonly||this.disabled)t.target.value=this.internalValue;else{var e=t.target.value;this.internalValue=e,this.$emit("input",e),this.$emit("change",e),this.internalFocused=!0}},blurHandler:function(){this.internalFocused=!1;for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];this.$emit.apply(this,["blur"].concat(e))},bindconfirm:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];this.$emit.apply(this,["confirm"].concat(e))},bindkeyboardheightchange:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];this.$emit.apply(this,["keyboardheightchange"].concat(e))},bindfocus:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];this.$emit.apply(this,["focus"].concat(e))}}},b=Object(a.a)(y,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("KView",{staticClass:"weui-cell"},[i("KView",{staticClass:"weui-cell__hd"},[i("label",{staticClass:"weui-label"},[t._v(t._s(t.label))])]),i("KView",{staticClass:"weui-cell__bd weui-flex"},[i("input",{ref:"field",staticClass:"weui-input",attrs:{type:t.type,focus:t.internalFocused,placeholder:t.placeholder,"auto-focus":t.autoFocus,"placeholder-style":t.placeholderStyle,"placeholder-class":t.placeholderClass,"dropdown-style":t.dropdownStyle,"show-value":t.showValue,maxlength:t.maxlength,password:t.password,disabled:t.disabled,"confirm-hold":t.confirmHold,cursor:t.cursor,"selection-start":t.selectionStart,"selection-end":t.selectionEnd,"adjust-position":t.adjustPosition,"hold-keyboard":t.holdKeyboard},domProps:{value:t.internalValue},on:{focus:t.bindfocus,input:t.inputHandler,blur:t.blurHandler,confirm:t.bindconfirm,keyboardheightchange:t.bindkeyboardheightchange}}),t.clearable?i("button",{staticClass:"weui-btn_reset weui-btn_icon weui-btn_input-clear",class:{"is-focused":t.internalValue.length>0},on:{click:t.handleClear}},[i("i",{staticClass:"weui-icon-clear"})]):t._e()])],1)}),[],!1,null,null,null).exports,x={name:"KSlider",props:{showValue:{type:Boolean},value:{type:Number,default:0},disabled:{type:Boolean,default:!1},step:{type:Number,default:1},min:{type:Number,default:0},max:{type:Number,default:100},blockSize:{type:Number,default:28},backgroundColor:{type:String,default:"#E9E9E9"},blockColor:{type:String,default:"#FFFFFF"}},data:function(){return{startPosition:void 0,currentValue:this.value,filteredValue:0,startX:0,sliderSize:1,newPosition:0,ismp:n.f}},computed:{},watch:{currentValue:function(){this.revalicateRange()}},mounted:function(){if(!n.f){var t=this.$refs.handle.$el,e=this.$refs.wrapper.$el;this.revalicateRange(),t.addEventListener("touchstart",this.onDragStart,!1),e.addEventListener("mousedown",this.onDragStart,!1),t.addEventListener("touchmove",this.onDragging,!1),e.addEventListener("mousemove",this.onDragging,!1),t.addEventListener("touchend",this.onDragEnd,!1),e.addEventListener("mouseup",this.onDragEnd,!1)}},beforeDestroy:function(){if(!n.f){var t=this.$refs.handle.$el,e=this.$refs.wrapper.$el;t.removeEventListener("touchstart",this.onDragStart,!1),e.removeEventListener("mousedown",this.onDragStart,!1),t.removeEventListener("touchmove",this.onDragging,!1),e.removeEventListener("mousemove",this.onDragging,!1),t.removeEventListener("touchend",this.onDragEnd,!1),e.removeEventListener("mouseup",this.onDragEnd,!1)}},methods:{onDragStart:function(t){this.disabled||(this.dragging=!0,this.startPosition=this.currentValue)},onDragging:function(t){this.dragging&&("touchmove"===t.type&&(t.clientY=t.touches[0].clientY,t.clientX=t.touches[0].clientX),this.updateHandle(t),this.$emit("changing",t))},onDragEnd:function(t){this.dragging&&(this.dragging=!1,"touchend"===t.type&&(t.clientY=t.changedTouches[0].clientY,t.clientX=t.changedTouches[0].clientX),this.updateHandle(t),this.$emit("change",t),this.startPosition=void 0)},updateHandle:function(t){var e=this.$refs.step.$el,i=e.offsetWidth,n=e.getBoundingClientRect().left,s=(t.clientX-n)*(this.max-this.min)/i+this.min;if(s=this.filterValue(s),void 0===this.startPosition){if(s===this.value)return!1}else if(s===this.startPosition)return!1;return this.currentValue=s,this.$emit("input",this.currentValue),!0},filterValue:function(t){return t<this.min?this.min:t>this.max?this.max:Math.round((t-this.min)/this.step)*this.step+this.min},revalicateRange:function(){var t=this.filterValue(this.currentValue);if(Object(n.e)(this.min)||Object(n.e)(this.max)||Object(n.e)(this.step)){var e=Math.max(Object(n.a)(this.min),Object(n.a)(this.max),Object(n.a)(this.step));t=+t.toFixed(e)}this.filteredValue=t},getValueWidth:function(t,e,i){return 100*(t-e)/(i-e)+"%"},getValueTextWidth:function(t,e,i){var s=Math.round(e).toString().length,a=Math.max(Object(n.a)(t),Object(n.a)(e),Object(n.a)(i));return(a>0?s+a:s)+"ch"},getBlockSize:function(t){return Object(n.d)(t,12,28)},sliderChange:function(t){this.$emit("input",t.detail.value),this.$emit("change",t)},sliderChanging:function(t){this.$emit("input",t.detail.value),this.$emit("changing",t)}}},S=Object(a.a)(x,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.ismp?i("wx-slider",{attrs:{min:t.min,max:t.max,"show-value":t.showValue,value:t.value,disabled:t.disabled,step:t.step},on:{change:t.sliderChange,changing:t.sliderChanging}}):i("KView",{staticClass:"weui-slider-box"},[i("KView",{ref:"wrapper",staticClass:"weui-slider-tap-area"},[i("KView",{ref:"trackbar",staticClass:"weui-slider-handle-wrapper"},[i("KView",{ref:"handle",staticClass:"weui-slider-handle",style:{left:t.getValueWidth(t.filteredValue,t.min,t.max)}}),i("KView",{staticClass:"weui-slider-thumb",style:{width:t.getBlockSize(t.blockSize)+"px",height:t.getBlockSize(t.blockSize)+"px","margin-left":"-"+t.getBlockSize(t.blockSize/2)+"px","margin-top":"-"+t.getBlockSize(t.blockSize/2)+"px",left:t.getValueWidth(t.filteredValue,t.min,t.max),"background-color":t.blockColor}}),i("KView",{staticClass:"weui-slider-track",style:{width:t.getValueWidth(t.filteredValue,t.min,t.max)}}),i("KView",{ref:"step",staticClass:"weui-slider-step"})],1)],1),t.showValue?i("KView",{staticClass:"weui-slider-value"},[t._v(t._s(t.filteredValue))]):t._e()],1)}),[],!1,null,null,null).exports;i.d(e,"KRadio",(function(){return o})),i.d(e,"KCells",(function(){return u})),i.d(e,"KCell",(function(){return p})),i.d(e,"KCheckbox",(function(){return m})),i.d(e,"KCheckboxGroup",(function(){return g})),i.d(e,"KRadioGroup",(function(){return l})),i.d(e,"KSwitch",(function(){return w})),i.d(e,"KInput",(function(){return b})),i.d(e,"KSlider",(function(){return S})),o.install=function(t){t.component(o.name,o)},u.install=function(t){t.component(u.name,u)},p.install=function(t){t.component(p.name,p)},m.install=function(t){t.component(m.name,m)},g.install=function(t){t.component(g.name,g)},w.install=function(t){t.component(w.name,w)},l.install=function(t){t.component(l.name,l)},b.install=function(t){t.component(b.name,b)},S.install=function(t){t.component(S.name,S)}},function(t,e,i){"use strict";i.r(e);var n={name:"KMask",props:{transparent:{type:Boolean,default:!1}},methods:{clickHander:function(t){this.$emit("click",t)}}},s=i(1),a=Object(s.a)(n,(function(){var t=this.$createElement;return(this._self._c||t)("KView",{class:{"weui-mask":!this.transparent,"weui-mask_transparent":this.transparent},on:{click:this.clickHander}})}),[],!1,null,null,null).exports;a.install=function(t){t.component(a.name,a)};e.default=a},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function i(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}t.exports=function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}},function(t,e){t.exports=function(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}},function(t,e,i){"use strict";i.r(e);var n=i(7),s=i.n(n),a={name:"KIcon",props:{type:{type:String,default:"success"},size:{type:String,default:"small"}},computed:{classObject:function(){var t;return t={},s()(t,"weui-icon-"+this.type,"loading"!==this.type),s()(t,"weui-loading","loading"===this.type),s()(t,"weui-icon_msg","large"===this.size),t}}},o=i(1),r=Object(o.a)(a,(function(){var t=this.$createElement;return(this._self._c||t)("i",{class:this.classObject})}),[],!1,null,null,null).exports;r.install=function(t){t.component(r.name,r)};e.default=r},function(t,e,i){"use strict";i.r(e);var n=i(0),s=i(5),a=i.n(s),o=i(6),r=i.n(o),l=function(){function t(){a()(this,t)}return r()(t,[{key:"x",value:function(t){return Math.sqrt(t)}}]),t}(),h=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1;return t>e-i&&t<e+i},c=function(t,e){return h(t,0,e)},u=/[+-]?\d+(\.\d+)?rpx/,d=/[+-]?\d+(\.\d+)?px/,p=function(t){return t.match(u)&&(t=wx.transformRpx("%%?"+t+"?%%")),function(t){return t.match(d)}(t)&&(t=parseFloat(t,10)),"number"!=typeof(t=+t)||isNaN(t)?0:t},f=function(t,e){return+((1e3*t-1e3*e)/1e3).toFixed(1)},m=function(t,e,i){var n={id:0,cancelled:!1};return function e(i,n,s,a){if(!i||!i.cancelled){s(n);var o=t.done();o||i.cancelled||(i.id=requestAnimationFrame(e.bind(null,i,n,s,a))),o&&a&&a(n)}}(n,t,e,i),{cancel:function(t){t&&t.id&&cancelAnimationFrame(t.id),t&&(t.cancelled=!0)}.bind(null,n),model:t}},v=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},g=function(){function t(e,i){a()(this,t),this._m=e,this._f=1e3*i,this._startTime=0,this._v=0}return r()(t,[{key:"setV",value:function(t,e){var i=Math.pow(Math.pow(t,2)+Math.pow(e,2),.5);this._x_v=t,this._y_v=e,this._x_a=-this._f*this._x_v/i,this._y_a=-this._f*this._y_v/i,this._t=Math.abs(t/this._x_a)||Math.abs(e/this._y_a),this._lastDt=null,this._startTime=(new Date).getTime()}},{key:"setS",value:function(t,e){this._x_s=t,this._y_s=e}},{key:"s",value:function(t){void 0===t&&(t=((new Date).getTime()-this._startTime)/1e3),t>this._t&&(t=this._t,this._lastDt=t);var e=this._x_v*t+.5*this._x_a*Math.pow(t,2)+this._x_s,i=this._y_v*t+.5*this._y_a*Math.pow(t,2)+this._y_s;return(this._x_a>0&&e<this._endPositionX||this._x_a<0&&e>this._endPositionX)&&(e=this._endPositionX),(this._y_a>0&&i<this._endPositionY||this._y_a<0&&i>this._endPositionY)&&(i=this._endPositionY),{x:e,y:i}}},{key:"ds",value:function(t){return void 0===t&&(t=((new Date).getTime()-this._startTime)/1e3),t>this._t&&(t=this._t),{dx:this._x_v+this._x_a*t,dy:this._y_v+this._y_a*t}}},{key:"delta",value:function(){return{x:-1.5*Math.pow(this._x_v,2)/this._x_a||0,y:-1.5*Math.pow(this._y_v,2)/this._y_a||0}}},{key:"dt",value:function(){return-this._x_v/this._x_a}},{key:"done",value:function(){var t=h(this.s().x,this._endPositionX)||h(this.s().y,this._endPositionY)||this._lastDt===this._t;return this._lastDt=null,t}},{key:"setEnd",value:function(t,e){this._endPositionX=t,this._endPositionY=e}},{key:"reconfigure",value:function(t,e){this._m=t,this._f=1e3*e}}]),t}(),_=function(){function t(e,i,n){a()(this,t),this._m=e,this._k=i,this._c=n,this._solution=null,this._endPosition=0,this._startTime=0}return r()(t,[{key:"_solve",value:function(t,e){var i=this._c,n=this._m,s=this._k,a=i*i-4*n*s;if(0===a){var o=-i/(2*n),r=t,l=e/(o*t);return{x:function(t){return(r+l*t)*Math.pow(Math.E,o*t)},dx:function(t){var e=Math.pow(Math.E,o*t);return o*(r+l*t)*e+l*e}}}if(a>0){var h=(-i-Math.sqrt(a))/(2*n),c=(-i+Math.sqrt(a))/(2*n),u=(e-h*t)/(c-h),d=t-u;return{x:function(t){var e,i;return t===this._t&&(e=this._powER1T,i=this._powER2T),this._t=t,e||(e=this._powER1T=Math.pow(Math.E,h*t)),i||(i=this._powER2T=Math.pow(Math.E,c*t)),d*e+u*i},dx:function(t){var e,i;return t===this._t&&(e=this._powER1T,i=this._powER2T),this._t=t,e||(e=this._powER1T=Math.pow(Math.E,h*t)),i||(i=this._powER2T=Math.pow(Math.E,c*t)),d*h*e+u*c*i}}}var p=Math.sqrt(4*n*s-i*i)/(2*n),f=-i/2*n,m=t,v=(e-f*t)/p;return{x:function(t){return Math.pow(Math.E,f*t)*(m*Math.cos(p*t)+v*Math.sin(p*t))},dx:function(t){var e=Math.pow(Math.E,f*t),i=Math.cos(p*t),n=Math.sin(p*t);return e*(v*p*i-m*p*n)+f*e*(v*n+m*i)}}}},{key:"x",value:function(t){return void 0===t&&(t=((new Date).getTime()-this._startTime)/1e3),this._solution?this._endPosition+this._solution.x(t):0}},{key:"dx",value:function(t){return void 0===t&&(t=((new Date).getTime()-this._startTime)/1e3),this._solution?this._solution.dx(t):0}},{key:"setEnd",value:function(t,e,i){if(i||(i=(new Date).getTime()),t!==this._endPosition||!c(e,.1)){e=e||0;var n=this._endPosition;this._solution&&(c(e,.1)&&(e=this._solution.dx((i-this._startTime)/1e3)),n=this._solution.x((i-this._startTime)/1e3),c(e,.1)&&(e=0),c(n,.1)&&(n=0),n+=this._endPosition),this._solution&&c(n-t,.1)&&c(e,.1)||(this._endPosition=t,this._solution=this._solve(n-this._endPosition,e),this._startTime=i)}}},{key:"snap",value:function(t){this._startTime=(new Date).getTime(),this._endPosition=t,this._solution={x:function(){return 0},dx:function(){return 0}}}},{key:"done",value:function(t){return t||(t=(new Date).getTime()),h(this.x(),this._endPosition,.1)&&c(this.dx(),.1)}},{key:"reconfigure",value:function(t,e,i){this._m=t,this._k=e,this._c=i,this.done()||(this._solution=this._solve(this.x()-this._endPosition,this.dx()),this._startTime=(new Date).getTime())}},{key:"springConstant",value:function(){return this._k}},{key:"damping",value:function(){return this._c}},{key:"configuration",value:function(){return[{label:"Spring Constant",read:this.springConstant.bind(this),write:function(t,e){t.reconfigure(1,e,t.damping())}.bind(this,this),min:100,max:1e3},{label:"Damping",read:this.damping.bind(this),write:function(t,e){t.reconfigure(1,t.springConstant(),e)}.bind(this,this),min:1,max:500}]}}]),t}(),w=function(){function t(e,i,n){a()(this,t),this._springX=new _(e,i,n),this._springY=new _(e,i,n),this._springScale=new _(e,i,n),this._startTime=0}return r()(t,[{key:"setEnd",value:function(t,e,i,n){var s=(new Date).getTime();this._springX.setEnd(t,n,s),this._springY.setEnd(e,n,s),this._springScale.setEnd(i,n,s),this._startTime=s}},{key:"x",value:function(){var t=((new Date).getTime()-this._startTime)/1e3;return{x:this._springX.x(t),y:this._springY.x(t),scale:this._springScale.x(t)}}},{key:"done",value:function(){var t=(new Date).getTime();return this._springX.done(t)&&this._springY.done(t)&&this._springScale.done(t)}},{key:"reconfigure",value:function(t,e,i){this._springX.reconfigure(t,e,i),this._springY.reconfigure(t,e,i),this._springScale.reconfigure(t,e,i)}}]),t}();var y,b=i(2),x={name:"KMovableView",components:{KView:b.default},props:{x:{type:[Number,String],default:0},y:{type:[Number,String],default:0},direction:{type:String,default:"none"},outOfBounds:{type:Boolean,default:!1},inertia:{type:Boolean,default:!1},friction:{type:Number,default:2},damping:{type:Number,default:20},scale:{type:Boolean,default:!1},animation:{type:[String,Boolean],default:!0},disabled:{type:Boolean,default:!1},scaleMin:{type:Number,default:.5},scaleMax:{type:Number,default:10},scaleValue:{type:Number,default:1}},data:function(){return{ismp:n.f,touchTrack:(t=0,e=0,i=0,s=0,a=null,o=function(n,a,o,r){return n.touchDetail={state:a,x:o,y:r,dx:o-t,dy:r-e,ddx:o-i,ddy:r-s,timeStamp:n.timeStamp},n},{onTouchEvent:function(t){return"touchstart"===t.type?this.onTouchStart(t):"touchmove"===t.type?this.onTouchMove(t):"touchend"===t.type?this.onTouchEnd(t):"touchcancel"===t.type?this.onTouchCancel(t):t},onTouchStart:function(n){if(1===n.touches.length&&!a)return a=n,t=i=n.touches[0].pageX,e=s=n.touches[0].pageY,o(n,"start",t,e)},onTouchMove:function(t){if(1===t.touches.length&&a){var e=o(t,"move",t.touches[0].pageX,t.touches[0].pageY);return i=t.touches[0].pageX,s=t.touches[0].pageY,e}},onTouchEnd:function(t){if(0===t.touches.length&&a)return a=null,o(t,"end",t.changedTouches[0].pageX,t.changedTouches[0].pageY)},onTouchCancel:function(t){if(a){var e=a;return a=null,o(t,"end",e.touches[0].pageX,e.touches[0].pageY)}}}),isKBoneUIMovableView:!0,areaWidth:0,areaHeight:0,offset:{x:0,y:0},scaleOffset:{x:0,y:0},translateX:0,translateY:0,scaling:1,oldScale:1,minX:0,minY:0,maxX:0,maxY:0,springModel:new w(1,9*Math.pow(this.damping,2)/40,this.damping),frictionModel:new g(1,this.friction),declineX:new l,declineY:new l,touchInfo:{historyX:[0,0],historyY:[0,0],historyT:[0,0]}};var t,e,i,s,a,o},computed:{xMove:function(){return!("horizontal"!==this.direction&&"all"!==this.direction)},yMove:function(){return!("vertical"!==this.direction&&"all"!==this.direction)},style:function(){return{}}},watch:{style:"",scaleValue:"setScaleValue",disabled:"setDisabled",scaleMin:"setScaleMinOrMax",scaleMax:"setScaleMinOrMax",x:"setX",y:"setY"},mounted:function(){var t=this;n.f||(this.$el.setAttribute("aria-dropeffect","move"),this.$el.setAttribute("aria-label","可移动"),this._x=0,this._y=0,this.friction<=0&&(this.friction=2),this.frictionModel.reconfigure(1,this.friction),this.springModel.reconfigure(1,9*Math.pow(this.damping,2)/40,this.damping),this.$el.style.transformOrigin="center",this.ignoredStyles=["transform-origin","will-change","transform","-webkit-transform"],this.previousStyle=null,new MutationObserver((function(e){e.forEach((function(e){"class"===e.attributeName?(t.updateWidthAndHeight(),t.updateBoundary(),t.revise()):"style"===e.attributeName&&t.styleChanged()&&(t.setTransform(t.translateX,t.translateY,t.scaling,"",!0,!1),t.$el.style.transformOrigin="center",t.updateWidthAndHeight(),t.updateBoundary(),t.revise())}))})).observe(this.$el,{attributes:!0,attributeFilter:["style","class"]}),this.x&&this.setX(this.x),this.y&&this.setY(this.y),(this.scaleMin||this.scaleMax)&&this.setScaleMinOrMax(),this.getParentMovableArea(),this.parentArea&&this.parentArea.$emit("k-movable-view-changed"))},detached:function(){this.parentArea&&this.parentArea.$emit("k-movable-view-changed")},methods:{moveAnimationFrame:(y=!1,function(t){y||(y=!0,requestAnimationFrame((function(){t(),y=!1})))}),getParentMovableArea:function(){for(var t=this;t&&t._isVue&&!t.isKBoneUIMovableArea;)t=t.$parent;this.parentArea=t},styleChanged:function(){var t=this;if(!n.f){var e=Array.from(this.$el.style).filter((function(e){return-1===t.ignoredStyles.indexOf(e)})).sort().map((function(e){return e+":"+t.$el.style[e]})).join(";"),i=this.previousStyle&&this.previousStyle!==e;return this.previousStyle=e,i}},setParent:function(t){if(!n.f){this.frictionAnimation&&(this.frictionAnimation=this.frictionAnimation.cancel()),this.springAnimation&&(this.springAnimation=this.springAnimation.cancel());var e=this.scale?this.scaleValue:1;this.parentArea=t,this.areaWidth=this.parentArea.width||0,this.areaHeight=this.parentArea.height||0,this.updateOffset(),this.updateWidthAndHeight(e),this.updateBoundary(),this.translateX=this._x+this.scaleOffset.x,this.translateY=this._y+this.scaleOffset.y;var i=this.getLimitXY(this.translateX,this.translateY),s=i.x,a=i.y;this.setTransform(s,a,e,"",!0),this.updateOldScale(e)}},setScaleMinOrMax:function(){if(!n.f){if(!this.scale)return!1;this.updateScale(this.scaling,!0),this.updateOldScale(this.scaling)}},setX:function(t){if(!n.f){var e=t;"string"==typeof e?e=p(e):"number"!=typeof e&&(e=0),this.xMove?e+this.scaleOffset.x!==this.translateX?(this.springAnimation&&(this.springAnimation=this.springAnimation.cancel()),this.animationTo(e+this.scaleOffset.x,this._y+this.scaleOffset.y,this.duringScaleValueAnimation?this.scaleValue:this.scaling),this._x=e):this._x=this.translateX:this._x=e}},setY:function(t){if(!n.f){var e=t;"string"==typeof e?e=p(e):"number"!=typeof e&&(e=0),this.yMove?e+this.scaleOffset.y!==this.translateY?(this.springAnimation&&(this.springAnimation=this.springAnimation.cancel()),this.animationTo(this._x+this.scaleOffset.x,e+this.scaleOffset.y,this.duringScaleValueAnimation?this.scaleValue:this.scaling),this._y=e):this._y=this.translateY:this._y=e}},handleTouchStart:function(t){this.touchTrack.onTouchEvent(t),this.isScaling||this.disabled||(this.frictionAnimation&&(this.frictionAnimation=this.frictionAnimation.cancel()),this.springAnimation&&(this.springAnimation=this.springAnimation.cancel()),this.touchInfo.historyX=[0,0],this.touchInfo.historyY=[0,0],this.touchInfo.historyT=[0,0],this.xMove&&(this.baseX=this.translateX),this.yMove&&(this.baseY=this.translateY),this.$el.style.willChange="transform",this.checkCanMove=null,this.firstMoveDirection=null,this.isTouching=!0)},handleTouchMove:function(t){var e=this,i=this.touchTrack.onTouchEvent(t);if(!this.isScaling&&!this.disabled&&this.isTouching){var n=this.translateX,s=this.translateY;if(null===this.firstMoveDirection&&(this.firstMoveDirection=Math.abs(i.touchDetail.dx/i.touchDetail.dy)>1?"htouchmove":"vtouchmove"),this.xMove&&(n=i.touchDetail.dx+this.baseX,this.touchInfo.historyX.shift(),this.touchInfo.historyX.push(n),this.yMove||null!==this.checkCanMove||(Math.abs(i.touchDetail.dx/i.touchDetail.dy)>1?this.checkCanMove=!1:this.checkCanMove=!0)),this.yMove&&(s=i.touchDetail.dy+this.baseY,this.touchInfo.historyY.shift(),this.touchInfo.historyY.push(s),this.xMove||null!==this.checkCanMove||(Math.abs(i.touchDetail.dy/i.touchDetail.dx)>1?this.checkCanMove=!1:this.checkCanMove=!0)),this.touchInfo.historyT.shift(),this.touchInfo.historyT.push(i.touchDetail.timeStamp),!this.checkCanMove){i.preventDefault();var a="touch";n<this.minX?this.outOfBounds?(a="touch-out-of-bounds",n=this.minX-this.declineX.x(this.minX-n)):n=this.minX:n>this.maxX&&(this.outOfBounds?(a="touch-out-of-bounds",n=this.maxX+this.declineX.x(n-this.maxX)):n=this.maxX),s<this.minY?this.outOfBounds?(a="touch-out-of-bounds",s=this.minY-this.declineY.x(this.minY-s)):s=this.minY:s>this.maxY&&(this.outOfBounds?(a="touch-out-of-bounds",s=this.maxY+this.declineY.x(s-this.maxY)):s=this.maxY),this.moveAnimationFrame((function(){e.setTransform(n,s,e.scaling,a)}))}var o=this.firstMoveDirection,r={touches:i.touches||{},changedTouches:i.changedTouches||{}};this.$emit(o,r)}},handleTouchCancelOrEnd:function(t){var e=this;if(this.touchTrack.onTouchEvent(t),!this.isScaling&&!this.disabled&&this.isTouching&&(this.$el.style.willChange="auto",this.isTouching=!1,!this.checkCanMove&&!this.revise("out-of-bounds")&&this.inertia)){var i=1e3*(this.touchInfo.historyX[1]-this.touchInfo.historyX[0])/(this.touchInfo.historyT[1]-this.touchInfo.historyT[0]),n=1e3*(this.touchInfo.historyY[1]-this.touchInfo.historyY[0])/(this.touchInfo.historyT[1]-this.touchInfo.historyT[0]);this.frictionModel.setV(i,n),this.frictionModel.setS(this.translateX,this.translateY);var s=this.frictionModel.delta().x,a=this.frictionModel.delta().y,o=s+this.translateX,r=a+this.translateY;o<this.minX?(o=this.minX,r=this.translateY+(this.minX-this.translateX)*a/s):o>this.maxX&&(o=this.maxX,r=this.translateY+(this.maxX-this.translateX)*a/s),r<this.minY?(r=this.minY,o=this.translateX+(this.minY-this.translateY)*s/a):r>this.maxY&&(r=this.maxY,o=this.translateX+(this.maxY-this.translateY)*s/a),this.frictionModel.setEnd(o,r),this.frictionAnimation=m(this.frictionModel,(function(){var t=e.frictionModel.s(),i=t.x,n=t.y;e.setTransform(i,n,e.scaling,"friction")}),(function(){e.frictionAnimation&&(e.frictionAnimation=e.frictionAnimation.cancel())}))}},setDisabled:function(t){n.f||!1===t&&this.handleTouchStart()},setScaleValue:function(t){var e=this;if(!n.f){if(!this.scale)return!1;t=this.adjustScale(t),this.duringScaleValueAnimation=!0,this.updateScale(t,!0,(function(){e.duringScaleValueAnimation=!1})),this.updateOldScale(t)}},getLimitXY:function(t,e){var i=!1;return t>this.maxX?(t=this.maxX,i=!0):t<this.minX&&(t=this.minX,i=!0),e>this.maxY?(e=this.maxY,i=!0):e<this.minY&&(e=this.minY,i=!0),{x:t,y:e,outOfBounds:i}},updateOffset:function(){this.offset.x=function t(e,i){if(e===i)return 0;var n=e.offsetLeft;return e.offsetParent?n+=t(e.offsetParent,i):0}(this.$el,this.parentArea.$el),this.offset.y=function t(e,i){if(e===i)return 0;var n=e.offsetTop;return e.offsetParent?n+=t(e.offsetParent,i):0}(this.$el,this.parentArea.$el)},updateWidthAndHeight:function(t){t=t||this.scaling,t=this.adjustScale(t);var e=this.$el.getBoundingClientRect();this.height=e.height/this.scaling,this.width=e.width/this.scaling;var i=this.height*t,n=this.width*t;this.scaleOffset.x=(n-this.width)/2,this.scaleOffset.y=(i-this.height)/2},updateBoundary:function(){var t=0-this.offset.x+this.scaleOffset.x,e=this.areaWidth-this.width-this.offset.x-this.scaleOffset.x;this.minX=Math.min(t,e),this.maxX=Math.max(t,e);var i=0-this.offset.y+this.scaleOffset.y,n=this.areaHeight-this.height-this.offset.y-this.scaleOffset.y;this.minY=Math.min(i,n),this.maxY=Math.max(i,n)},beginScale:function(){this.isScaling=!0},endScale:function(){this.isScaling=!1,this.updateOldScale(this.scaling)},setScale:function(t){this.scale&&(t*=this.oldScale,this.beginScale(),this.updateScale(t))},setTransformed:function(t){this.isTransformed=t},updateScale:function(t,e,i){var n=this;if(this.scale){t=this.adjustScale(t),this.isTransformed||(this.updateWidthAndHeight(t),this.updateBoundary());var s=this.getLimitXY(this.translateX,this.translateY),a=s.x,o=s.y;e?this.animationTo(a,o,t,"",!0,!0,i):this.moveAnimationFrame((function(){n.setTransform(a,o,t,"",!0,!0)}))}},updateOldScale:function(t){this.oldScale=t},adjustScale:function(t){return t=Math.max(.5,this.scaleMin,t),t=Math.min(10,this.scaleMax,t)},animationTo:function(t,e,i,n,s,a,o){var r=this;this.frictionAnimation&&(this.frictionAnimation=this.frictionAnimation.cancel()),this.springAnimation&&(this.springAnimation=this.springAnimation.cancel()),this.xMove||(t=this.translateX),this.yMove||(e=this.translateY),this.scale||(i=this.scaling);var l=this.getLimitXY(t,e);t=l.x,e=l.y,this.animation?(this.springModel._springX._solution=null,this.springModel._springY._solution=null,this.springModel._springScale._solution=null,this.springModel._springX._endPosition=this.translateX,this.springModel._springY._endPosition=this.translateY,this.springModel._springScale._endPosition=this.scaling,this.springModel.setEnd(t,e,i,1),this.springAnimation=m(this.springModel,(function(){var t=r.springModel.x(),e=t.x,o=t.y,l=1===i?1:t.scale;r.setTransform(e,o,l,n,s,a)}),(function(){r.springAnimation&&(r.springAnimation=r.springAnimation.cancel()),o&&"function"==typeof o&&o()}))):this.setTransform(t,e,i,n,s,a)},revise:function(t){var e=this.getLimitXY(this.translateX,this.translateY),i=e.x,n=e.y,s=e.outOfBounds;return s&&this.animationTo(i,n,this.scaling,t),s},setTransform:function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",s=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0;null!==t&&"NaN"!==t.toString()&&"number"==typeof t||(t=this.translateX||0),null!==e&&"NaN"!==e.toString()&&"number"==typeof e||(e=this.translateY||0),t=Number(t.toFixed(1)),e=Number(e.toFixed(1)),i=Number(i.toFixed(3));var o=f(t,this.scaleOffset.x),r=f(e,this.scaleOffset.y);this.translateX===t&&this.translateY===e||s||this.$emit("change",{detail:{x:o,y:r,source:n}}),this.scale||(i=this.scaling),i=+(i=this.adjustScale(i)).toFixed(3),a&&i!==this.scaling&&this.$emit("scale",{detail:{scale:i,x:o,y:r}});var l="translateX("+t+"px) translateY("+e+"px) translateZ(0px) scale("+i+")";if(this.$el.style.transform=l,this.$el.style.webkitTransform=l,this.translateX=t,this.translateY=e,this.scaling=i,this.containerArgs){var h=this.containerArgs.position;h.left=t,h.top=e,this.updatePositioningContainer({position:h})}},bindchange:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];this.$emit.apply(this,["change"].concat(e))},bindscale:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];this.$emit.apply(this,["scale"].concat(e))},bindhtouchmove:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];this.$emit.apply(this,["htouchmove"].concat(e))},bindvtouchmove:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];this.$emit.apply(this,["vtouchmove"].concat(e))}}},S=i(1),k=Object(S.a)(x,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.ismp?i("wx-movable-view",{attrs:{x:t.x,y:t.y,direction:t.direction,"out-of-bounds":t.outOfBounds,inertia:t.inertia,friction:t.friction,damping:t.damping,scale:t.scale,animation:t.animation,disabled:t.disabled,"scale-min":t.scaleMin,"scale-max":t.scaleMax,"scale-value":t.scaleValue},on:{change:t.bindchange,scale:t.bindscale,htouchmove:t.bindhtouchmove,vtouchmove:t.bindvtouchmove}},[t._t("default")],2):i("div",{staticClass:"weui-movable-view",on:{touchstart:t.handleTouchStart,touchmove:t.handleTouchMove,touchend:t.handleTouchCancelOrEnd,touchcancel:t.handleTouchCancelOrEnd}},[t._t("default")],2)}),[],!1,null,null,null).exports,T=function t(e,i){var n=e.parentNode;return!!n&&(n!==document.body&&n!==document&&(n===i.$el||t(n,i)))},C=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=0,n=e.length;i<n;i++)if(t===e[i].$el||T(t,e[i]))return e[i]},M={name:"KMovableArea",components:{KView:b.default},props:{scaleArea:{type:Boolean,value:!1}},data:function(){return{ismp:n.f}},watch:{},created:function(){this.isKBoneUIMovableArea=!0,this.$on("k-movable-view-changed",this.movableViewChanged),this.gapV={x:null,y:null},this.pinchStartLen=null},mounted:function(){var t=this;n.f||(this.isMounted=!0,new MutationObserver((function(e){e.forEach((function(e){"class"!==e.attributeName&&"style"!==e.attributeName||t.performUpdateIfNecessary()}))})).observe(this.$el,{attributes:!0,attributeFilter:["style","class"]}))},methods:{movableViewChanged:function(){var t=this.views=[];return function e(i){for(var n=0;n<i.$children.length;n++){var s=i.$children[n];s._isVue&&(s.isKBoneUIMovableView?t.push(s):e(s))}}(this),this.updateArea(),!1},updateArea:function(){var t=this,e=this.getWidthAndHeight(),i=e.height,n=e.width;return this.height=i,this.width=n,this.views.forEach((function(e){e.setParent(t)})),!0},getWidthAndHeight:function(){var t=window.getComputedStyle(this.$el),e=this.$el.getBoundingClientRect(),i=["Left","Right"].map((function(e){return parseFloat(t["border"+e+"Width"])+parseFloat(t["padding"+e])})),n=["Top","Bottom"].map((function(e){return parseFloat(t["border"+e+"Width"])+parseFloat(t["padding"+e])}));return{height:e.height-n[0]-n[1],width:e.width-i[0]-i[1]}},handleTouchStart:function(t){var e=t.touches;if(e&&e.length>1){var i={x:e[1].pageX-e[0].pageX,y:e[1].pageY-e[0].pageY};if(this.pinchStartLen=v(i),this.gapV=i,!this.scaleArea){var n=C(e[0].target,this.views),s=C(e[1].target,this.views);this.scaleMovableView=n&&n===s?n:null}}},handleTouchMove:function(t){var e=t.touches;if(e&&e.length>1){t.preventDefault();var i={x:e[1].pageX-e[0].pageX,y:e[1].pageY-e[0].pageY};if(null!==this.gapV.x&&this.pinchStartLen>0){var n=v(i)/this.pinchStartLen;this.updateScale(n)}this.gapV=i}},handleTouchEnd:function(t){var e=t.touches;e&&e.length||t.changedTouches&&(this.gapV.x=0,this.gapV.y=0,this.pinchStartLen=null,this.scaleArea?this.views.forEach((function(t){t.endScale()})):this.scaleMovableView&&this.scaleMovableView.endScale())},updateScale:function(t){t&&1!==t&&(this.scaleArea?this.views.forEach((function(e){e.setScale(t)})):this.scaleMovableView&&this.scaleMovableView.setScale(t))},performUpdateIfNecessary:function(){var t=this.$el.getBoundingClientRect()||{},e=this.$el.offsetWidth,i=this.$el.offsetHeight,n=t.width!==e||t.height!==i;e===this.offsetWidth&&i===this.offsetHeight||this.updateArea(),this.views&&this.views.forEach((function(t){"function"==typeof t.setTransformed&&t.setTransformed(n)})),this.offsetWidth=e,this.offsetHeight=i}}},$=Object(S.a)(M,(function(){var t=this.$createElement,e=this._self._c||t;return this.ismp?e("wx-movable-area",{attrs:{"scale-area":this.scaleArea}},[this._t("default")],2):e("div",{staticClass:"weui-movable-area",on:{touchstart:this.handleTouchStart,touchmove:this.handleTouchMove,touchend:this.handleTouchEnd}},[this._t("default")],2)}),[],!1,null,null,null).exports;i.d(e,"KMovableArea",(function(){return $})),i.d(e,"KMovableView",(function(){return k})),k.install=function(t){t.component(k.name,k)},$.install=function(t){t.component($.name,$)}},function(t,e,i){"use strict";i.r(e);var n={name:"KFlex",props:{direction:{type:String,default:"row"}}},s=i(1),a=Object(s.a)(n,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"weui-flex",style:{"flex-direction":t.direction},on:{click:function(e){return t.$emit("click")}}},[t._t("default")],2)}),[],!1,null,null,null).exports,o={name:"KFlexItem"},r=Object(s.a)(o,(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"weui-flex__item"},[this._t("default")],2)}),[],!1,null,null,null).exports;i.d(e,"KFlexItem",(function(){return r})),i.d(e,"KFlex",(function(){return a})),a.install=function(t){t.component(a.name,a)},r.install=function(t){t.component(r.name,r)}},function(t,e,i){"use strict";i.r(e);var n=i(0),s={name:"KPickerView",props:{indicatorStyle:{type:String,value:""},indicatorClass:{type:String,value:""},maskStyle:{type:String,value:""},maskClass:{type:String,value:""},value:{type:Array,value:[]}},data:function(){return{ismp:n.f}},mounted:function(){!n.f&&this.setIndicatorStyle()},methods:{change:function(t,e){this.value[t]=e,this.$emit("input",this.value),this.$emit("change",this.value)},updateKey:function(t){this.$emit("input",t.detail.value),this.$emit("change",t.detail.value)},setIndicatorStyle:function(){var t=this;Object(n.b)(this,"KPickerViewColumn").forEach((function(e,i){e.$refs.indicator.$el.style=t.indicatorStyle,e.order=i,e.renderItems(),e.updatePos(t.value[i]||0)}))}}},a=i(1),o=Object(a.a)(s,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.ismp?i("wx-picker-view",{attrs:{value:t.value,"indicator-style":t.indicatorStyle,"indicator-class":t.indicatorClass,"mask-style":t.maskStyle,"mask-class":t.maskClass},on:{change:t.updateKey}},[t._t("default")],2):i("KView",{staticClass:"weui-picker__bd"},[t._t("default")],2)}),[],!1,null,null,null).exports,r={name:"KPickerViewColumn",data:function(){return{order:0,itemHeight:54,bodyHeight:270,offset:2,start:0,end:0,startTime:0,translate:0,points:[],parent:Object(n.c)(this,"KPickerView"),ismp:n.f}},mounted:function(){if(!n.f){this.renderItems();var t=this.$refs.container.$el;t.addEventListener("touchstart",this.startHandler,!1),t.addEventListener("touchmove",this.moveHandler,!1),t.addEventListener("touchend",this.endHandler,!1),t.addEventListener("mousedown",this.startHandler,!1),t.addEventListener("mousemove",this.moveHandler,!1),t.addEventListener("mouseup",this.endHandler,!1)}},beforeDestroy:function(){if(!n.f){var t=this.$refs.container.$el;t.removeEventListener("touchstart",this.startHandler,!1),t.removeEventListener("touchmove",this.moveHandler,!1),t.removeEventListener("touchend",this.endHandler,!1),t.removeEventListener("mousedown",this.startHandler,!1),t.removeEventListener("mousemove",this.moveHandler,!1),t.removeEventListener("mouseup",this.endHandler,!1)}},methods:{renderItems:function(){var t=this.$refs.content.$el.children;this.itemHeight=this.$refs.indicator.$el.offsetHeight,this.bodyHeight=5*this.itemHeight;for(var e=0,i=t.length;e<i;e++){var n=t.item(e);n.style.height=this.itemHeight+"px",n.style.overflow="hidden"}},updatePos:function(t){var e=(this.offset-t)*this.itemHeight;this.stop(e,!1)},startHandler:function(t){"touchstart"===t.type&&(t.clientY=t.touches[0].clientY),this.start=t.clientY,this.startTime=+new Date},moveHandler:function(t){if(!this.start)return!1;"touchmove"===t.type&&(t.clientY=t.touches[0].clientY),this.end=t.clientY;var e=this.end-this.start;return this.setTransition(this.$refs.content.$el,0),this.setTranslate(this.$refs.content.$el,this.translate+e),this.startTime=+new Date,this.points.push({time:this.startTime,y:this.end}),this.points.length>40&&this.points.shift(),t.preventDefault(),!1},endHandler:function(t){if(this.start){"touchend"===t.type&&(t.clientY=t.changedTouches[0].clientY);var e=(new Date).getTime(),i=this.$refs.container.$el.getBoundingClientRect().top+this.bodyHeight/2;if(this.end=t.clientY,e-this.startTime>100)Math.abs(this.start-this.end)>10?this.stop(this.end-this.start):this.stop(i-this.end);else if(Math.abs(this.start-this.end)>10){for(var n=this.points.length-1,s=n,a=n;a>0&&this.startTime-this.points[a].time<100;a--)s=a;if(s!==n){var o=this.points[n],r=this.points[s],l=o.time-r.time,h=150*((o.y-r.y)/l)+(this.end-this.start);this.stop(h)}else this.stop(0)}else this.stop(i-this.end);this.start=null}},stop:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.translate+=t,this.translate=Math.round(this.translate/this.itemHeight)*this.itemHeight;var i=this.getMax(this.offset,this.itemHeight),n=this.getMin(this.offset,this.itemHeight,this.$refs.content.$el.children.length);this.translate>i&&(this.translate=i),this.translate<n&&(this.translate=n);var s=this.offset-this.translate/this.itemHeight;e?this.setTransition(this.$refs.content.$el,.3):this.setTransition(this.$refs.content.$el,0),this.setTranslate(this.$refs.content.$el,this.translate),this.parent.change(this.order,s)},getMin:function(t,e,i){return-e*(i-t-1)},getMax:function(t,e){return t*e},setTranslate:function(t,e){t.style.transform="translate3d(0, ".concat(e,"px, 0)"),t.style["-webkit-transform"]="translate3d(0, ".concat(e,"px, 0)")},setTransition:function(t,e){t.style.transition="all ".concat(e,"s"),t.style["-webkit-transition"]="all ".concat(e,"s")}}},l=Object(a.a)(r,(function(){var t=this.$createElement,e=this._self._c||t;return this.ismp?e("wx-picker-view-column",[this._t("default")],2):e("KView",{ref:"container",staticClass:"weui-picker__group"},[e("KView",{staticClass:"weui-picker__mask"}),e("KView",{ref:"indicator",staticClass:"weui-picker__indicator"}),e("KView",{ref:"content",staticClass:"weui-picker__content"},[this._t("default")],2)],1)}),[],!1,null,null,null).exports;i.d(e,"KPickerView",(function(){return o})),i.d(e,"KPickerViewColumn",(function(){return l})),o.install=function(t){t.component(o.name,o)},l.install=function(t){t.component(l.name,l)}},function(t,e,i){"use strict";i.r(e);var n=i(0),s=i(2),a={name:"KSwiper",components:{KView:s.default},props:{indicatorDots:{type:Boolean,default:!1},vertical:{type:Boolean,default:!1},autoplay:{type:Boolean,default:!1},circular:{type:Boolean,default:!1},interval:{type:Number,default:2e3},duration:{type:Number,default:500},value:{type:Number,default:0},current:{type:Number,default:0},indicatorColor:{type:String,default:""},indicatorActiveColor:{type:String,default:""},previousMargin:{type:String,default:""},nextMargin:{type:String,default:""},currentItemId:{type:String,default:""},skipHiddenItemLayout:{type:Boolean,default:!1},displayMultipleItems:{type:Number,default:1},easingFunction:{type:String,default:"default"}},data:function(){return{start:{x:0,y:0,preX:0,preY:0},currentPos:{x:0,y:0,dx:0,dy:0,ddx:0,ddy:0},currentOrder:this.value||this.current,contentTrackViewport:0,viewportPosition:0,contentTrackT:0,contentTrackSpeed:0,multipleItems:1,marginSpecified:!1,viewportMoveRatio:1,circularEnabled:this.circular,ismp:n.f,subItems:0}},watch:{circular:function(){n.f||(this.circularEnabled=this.circular,this._resetLayout())},autoplay:function(){this.autoplay?this._scheduleAutoplay():this._cancelSchedule()},currentOrder:function(t,e){t!==e&&(this.$emit("input",t),this.$emit("change",t))},value:function(t){t!==this.currentOrder&&(this._resetLayout(),this._animateViewport(t,"",0),this.currentOrder=t)}},computed:{itemsLength:function(){return this.subItems=this._getItems().length,this.subItems}},mounted:function(){n.f||(this.$refs.slidesWrapper.$el.addEventListener("touchstart",this.handleStart,!1),this.$refs.slidesWrapper.$el.addEventListener("mousedown",this.handleStart,!1),this.$refs.slidesWrapper.$el.addEventListener("touchmove",this.handleMove,!1),this.$refs.slidesWrapper.$el.addEventListener("mousemove",this.handleMove,!1),this.$refs.slidesWrapper.$el.addEventListener("touchend",this.handleEnd,!1),this.$refs.slidesWrapper.$el.addEventListener("mouseup",this.handleEnd,!1),this._resetLayout(),this.subItems=this.itemsLength)},beforeDestroy:function(){n.f||(this.$refs.slidesWrapper.$el.removeEventListener("touchstart",this.handleStart,!1),this.$refs.slidesWrapper.$el.removeEventListener("touchmove",this.handleMove,!1),this.$refs.slidesWrapper.$el.removeEventListener("touchend",this.handleEnd,!1),this.$refs.slidesWrapper.$el.removeEventListener("mousedown",this.handleStart,!1),this.$refs.slidesWrapper.$el.removeEventListener("mousemove",this.handleMove,!1),this.$refs.slidesWrapper.$el.removeEventListener("mouseup",this.handleEnd,!1),this._cancelSchedule())},methods:{_getItems:function(){return Object(n.b)(this,"KSwiperItem")},handleStart:function(t){"touchstart"===t.type&&(t.clientY=t.touches[0].clientY,t.clientX=t.touches[0].clientX),this.start={x:t.clientX,y:t.clientY,preX:t.clientX,preY:t.clientY},this.contentTrackViewport=this.viewportPosition,this.contentTrackT=Date.now(),this.contentTrackSpeed=0},handleMove:function(t){if(this.contentTrackT){"touchmove"===t.type&&(t.clientY=t.touches[0].clientY,t.clientX=t.touches[0].clientX),this.currentPos={x:t.clientX,y:t.clientY,dx:t.clientX-this.start.x,dy:t.clientY-this.start.y,ddx:t.clientX-this.start.preX,ddy:t.clientY-this.start.preY},this.start.preX=t.clientX,this.start.preY=t.clientY;var e=this.contentTrackT;this.contentTrackT=Date.now();var i=this.itemsLength;this.viewportMax=i-this.multipleItems;var n=this.contentTrackT-e;return 0===n&&(n=1),this.vertical||this.updateView(-this.currentPos.dx/this.$refs.slideFrame.$el.offsetWidth,-this.currentPos.ddx/n),t.preventDefault(),!1}},handleEnd:function(t){var e;this.autoplay&&this._scheduleAutoplay(),this.contentTrackT=!1,e=0===this.contentTrackSpeed?0:this.contentTrackSpeed/Math.abs(this.contentTrackSpeed);var i=0;Math.abs(this.contentTrackSpeed)>.2&&(i=.5*e);var n=this._normalizeCurrentValue(this.viewportPosition+i);this.currentOrder!==n?(this._currentChangeSource="touch",this.currentOrder=n,this._animateViewport(n,"touch",i)):this._animateViewport(n,"touch",i)},_scheduleAutoplay:function(){var t=this;if(this._cancelSchedule(),!(this.itemsLength<=this.displayMultipleItems)){this._scheduleTimeoutObj=setTimeout((function e(){t._scheduleTimeout=null,t._currentChangeSource="autoplay",t.circularEnabled?t.currentOrder=t._normalizeCurrentValue(t.currentOrder+1):t.currentOrder=t.currentOrder+t.displayMultipleItems<t.itemsLength?t.currentOrder+1:0,t._animateViewport(t.currentOrder,"autoplay",t.circularEnabled?1:0),t._scheduleTimeoutObj=setTimeout(e,t.interval)}),this.interval)}},_animateViewport:function(t,e,i){this._cancelViewportAnimation();var s=this.duration,a=this.itemsLength,o=this.viewportPosition;if(this.circularEnabled)if(i<0){for(;o<t;)o+=a;for(;o-a>t;)o-=a}else if(i>0){for(;o>t;)o-=a;for(;o+a<t;)o+=a}else{for(;o+a<t;)o+=a;for(;o-a>t;)o-=a;o+a-t<t-o&&(o+=a),t-(o-a)<o-t&&(o-=a)}this._animating={fromPos:o,toPos:t,acc:2*(o-t)/(s*s),startTime:Date.now(),endTime:Date.now()+s,source:e},this._requestedAnimation||(this._requestedAnimation=!0,n.f?window.requestAnimationFrame(this._animateFrameFunc.bind(this)):requestAnimationFrame(this._animateFrameFunc.bind(this)))},_animateFrameFunc:function(){if(this._animating){this._transitioning=!0;var t,e=this._animating,i=e.toPos,s=e.acc,a=e.endTime,o=(e.source,e.fromPos),r=e.startTime,l=a-Date.now();if(l<=0)return this.updateSwiper(i),this._animating=null,this._requestedAnimation=!1,void(this._getItems()[this.currentOrder]&&(this._swiping=!1,this._transitioning=!1,this._transposed=!1,this._lastPosX=null,this._lastPosY=null,this._previous=this.currentOrder));var h=Date.now()-r;switch(this.easingFunction){case"easeInCubic":t=n.g.easeInCubic(h,o,i,this.duration);break;case"easeOutCubic":t=n.g.easeOutCubic(h,o,i,this.duration),this.updateSwiper(t);break;case"easeInOutCubic":t=n.g.easeInOutCubic(h,o,i,this.duration);break;case"linear":t=n.g.linear(h,o,i,this.duration);break;case"default":default:t=i+s*l*l/2}this.updateSwiper(t),n.f?window.requestAnimationFrame(this._animateFrameFunc.bind(this)):requestAnimationFrame(this._animateFrameFunc.bind(this))}else this._requestedAnimation=!1},_cancelViewportAnimation:function(){this._animating=null},_cancelSchedule:function(){clearTimeout(this._scheduleTimeoutObj),this._scheduleTimeoutObj=null},_normalizeCurrentValue:function(t){var e=this.itemsLength;if(!e)return-1;var i=(Math.round(t)%e+e)%e;if(this.circularEnabled){if(e<=this.displayMultipleItems)return 0}else if(i>e-this.displayMultipleItems)return e-this.displayMultipleItems;return i},updateView:function(t,e){var i=this.contentTrackViewport+t;this.contentTrackSpeed=.6*this.contentTrackSpeed+.4*e,this.circularEnabled||(i<0||i>this.viewportMax)&&(i<0?i=-this.overflowRate(-i):i>this.viewportMax&&(i=this.viewportMax+this.overflowRate(i-this.viewportMax)),this.contentTrackSpeed=0),this.updateSwiper(i)},updateSwiper:function(t){Math.floor(2*this.viewportPosition)===Math.floor(2*t)&&Math.ceil(2*this.viewportPosition)===Math.ceil(2*t)||this.circularEnabled&&this._checkCircularLayout(t);var e="translate("+(this.vertical?"0":100*-t*this.viewportMoveRatio+"%")+", "+(this.vertical?100*-t*this.viewportMoveRatio+"%":"0")+") translateZ(0)",i=this.$refs.slideFrame.$el;i.style["-webkit-transform"]=e,i.style.transform=e,this.viewportPosition=t;var n=this.itemsLength,s={scrollLeft:this.vertical?0:t*this.viewportMoveRatio*i.offsetWidth,scrollTop:this.vertical?t*this.viewportMoveRatio*i.offsetHeight:0,scrollWidth:(this.vertical?1:n)*i.offsetWidth,scrollHeight:(this.vertical?n:1)*i.offsetHeight};if(!this._scrollPosition||this._scrollPosition.scrollLeft!==s.scrollLeft||this._scrollPosition.scrollTop!==s.scrollTop){if("touch"===(this._animating||{}).source&&!this._swiping||!this._transitioning)return void(this._scrollPosition=s);var a=s.scrollLeft,o=s.scrollTop;this.vertical?this._getTransitionDeltaY(o):this._getTransitionDeltaX(a)}this._scrollPosition=s},_getTransitionDeltaX:function(t){var e=this.$refs.slideFrame.$el.offsetWidth,i=Math.abs(parseInt(this._lastPosX,10)-parseInt(t,10));if(null!==this._lastPosX&&i>e||this._transposed){this._transposed=!0;var n=(this.itemsLength-1)*e;this.circularEnabled&&(Math.sign(this._lastPosX)<0?t=-(e-(t-n)):Math.sign(this._lastPosX)>0&&(t=n+(e+t)))}else{if(this.autoplay&&this._previous===this.itemsLength-1&&t<=0&&(null==this._lastPosX||t>this._lastPosX))return this._lastPosX=t,e-Math.abs(t);this._lastPosX=t}return t-this._previous*e},_getTransitionDeltaY:function(t){var e=this.$refs.slideFrame.$el.offsetHeight,i=Math.abs(parseInt(this._lastPosY,10)-parseInt(t,10));if(null!==this._lastPosY&&i>e||this._transposed){this._transposed=!0;var n=(this.itemsLength-1)*e;this.circularEnabled&&(Math.sign(this._lastPosY)<0?t=-(e-(t-n)):Math.sign(this._lastPosY)>0&&(t=n+(e+t)))}else{if(this.autoplay&&this._previous===this.itemsLength-1&&t<=0&&(null==this._lastPosY||t>this._lastPosY))return this._lastPosY=t,e-Math.abs(t);this._lastPosY=t}return t-this._previous*e},overflowRate:function(t){return.5-.25/(t+.5)},_checkCircularLayout:function(t){if(!this._invalid)for(var e=this._getItems(),i=e.length,n=t+this.displayMultipleItems,s=0;s<i;s++){var a=e[s]._position,o=Math.floor(t/i)*i+s,r=o+i,l=o-i,h=Math.max(t-(o+1),o-n,0),c=Math.max(t-(r+1),r-n,0),u=Math.max(t-(l+1),l-n,0),d=Math.min(h,c,u),p=[o,r,l][[h,c,u].indexOf(d)];a!==p&&this._updateItemPos(s,p)}},_updateItemPos:function(t,e){var i="translate("+(this.vertical?"0":100*e+"%")+", "+(this.vertical?100*e+"%":"0")+") translateZ(0)",n=this._getItems()[t].$el;n.style["-webkit-transform"]=i,n.style.transform=i,n._position=e},_resetLayout:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.triggeredBy;this._cancelSchedule(),this._cancelViewportAnimation();var e=this._getItems(),i=this.$refs.slides.$el,n=this.$refs.slideFrame.$el;this.vertical||(this.marginSpecified&&(i.style.top=0,i.style.bottom=0,i.style.left=this.previousMargin,i.style.right=this.nextMargin),n.style.height="100%",n.style.width=Math.abs(100/this.displayMultipleItems)+"%");for(var s=0;s<e.length;s++)this._skipHiddenItemLayoutModified,this._updateItemPos(s,s);if(this.viewportMoveRatio=1,1===this.displayMultipleItems&&e.length){var a=e[0].$el.getBoundingClientRect(),o=this.$refs.slideFrame.$el.getBoundingClientRect();this.viewportMoveRatio=a.width/o.width,this.viewportMoveRatio>0&&this.viewportMoveRatio<1||(this.viewportMoveRatio=1)}this.circularEnabled=this.circular&&e.length>this.displayMultipleItems;var r=this.viewportPosition;this.viewportPosition=-2;var l=this.currentOrder;l>=0&&(this._invalid=!1,this.contentTrackT?(this.updateSwiper(r+l-this.contentTrackViewport),this.contentTrackViewport=l):this.updateSwiper(l),this.autoplay&&this._scheduleAutoplay())},itemChange:function(t){this.$emit("input",t.detail.current),this.$emit("change",t),this.$emit("bindchange",t)},transitionChange:function(t){this.$emit("transition",t)},animationfinish:function(t){this.$emit("animationfinish",t)}}},o=i(1),r=Object(o.a)(a,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.ismp?i("wx-swiper",{attrs:{autoplay:t.autoplay,current:t.current,interval:t.interval,duration:t.duration,circular:t.circular,vertical:t.vertical,"indicator-dots":t.indicatorDots,"indicator-color":t.indicatorColor,"indicator-active-color":t.indicatorActiveColor,"previous-margin":t.previousMargin,"next-margin":t.nextMargin,"easing-function":t.easingFunction,"display-multiple-items":t.displayMultipleItems,"skip-hidden-item-layout":t.skipHiddenItemLayout},on:{change:t.itemChange,transition:t.transitionChange,animationfinish:t.animationfinish}},[t._t("default")],2):i("KView",{ref:"slidesWrapper",staticClass:"weui-swiper weui-swiper-wrapper"},[i("KView",{ref:"slides",staticClass:"weui-swiper-slides"},[i("KView",{ref:"slideFrame",staticClass:"weui-swiper-slide-frame",attrs:{id:"slideFrame"}},[t._t("default")],2)],1),t.indicatorDots?i("KView",{ref:"slidesDots",staticClass:"weui-swiper-dots weui-swiper-dots-horizontal"},t._l(t.subItems,(function(e,n){return i("KView",{key:n,staticClass:"weui-swiper-dot",class:{"weui-swiper-dot-active":t.currentOrder===n}})})),1):t._e()],1)}),[],!1,null,null,null).exports,l={name:"KSwiperItem",data:function(){return{ismp:n.f}},props:{itemId:{type:String}},components:{KView:s.default}},h=Object(o.a)(l,(function(){var t=this.$createElement,e=this._self._c||t;return this.ismp?e("wx-swiper-item",{attrs:{"item-id":this.itemId}},[this._t("default")],2):e("KView",{staticClass:"weui-swiper-item"},[this._t("default")],2)}),[],!1,null,null,null).exports;i.d(e,"KSwiper",(function(){return r})),i.d(e,"KSwiperItem",(function(){return h})),r.install=function(t){t.component(r.name,r)},h.install=function(t){t.component(h.name,h)}},function(t,e,i){"use strict";i.r(e);var n=i(0),s={name:"KButton",props:{size:{type:String,default:"default"},type:{type:String,default:"default"},loading:{type:Boolean},disabled:{type:Boolean,default:!1},formType:{type:String},openType:{value:"",type:String},appParameter:{value:"",type:String},withCredentials:{value:!0,type:Boolean},lang:{value:"en",type:String},hoverStartTime:{type:Number,value:20},hoverStayTime:{type:Number,value:70},hoverClass:{type:String,value:""},sessionFrom:{type:String,value:"wxapp"},businessId:{type:String,value:""},sendMessageTitle:{type:String,value:""},sendMessagePath:{type:String,value:""},sendMessageImg:{type:String,value:""},showMessageCard:{type:Boolean,value:!1},needPhoneNumber:{type:Boolean,value:!1},native:{type:Boolean,value:!1}},data:function(){return{ismp:n.f}},computed:{classObject:function(){return{"weui-btn_mini":"mini"===this.size,"weui-btn_primary":"primary"===this.type,"weui-btn_default":"default"===this.type,"weui-btn_warn":"warn"===this.type,"weui-btn_disabled":this.disabled}}},methods:{clickHander:function(t){this.$emit("click",t)},bindgetuserinfo:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];this.$emit.apply(this,["getuserinfo"].concat(e))},bindcontact:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];this.$emit.apply(this,["contact"].concat(e))},bindgetphonenumber:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];this.$emit.apply(this,["getphonenumber"].concat(e))},binderror:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];this.$emit.apply(this,["error"].concat(e))},bindopensetting:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];this.$emit.apply(this,["opensetting"].concat(e))},bindlaunchapp:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];this.$emit.apply(this,["launchapp"].concat(e))}}},a=i(1),o=Object(a.a)(s,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.ismp?i("wx-button",{staticClass:"weui-btn",class:t.classObject,attrs:{type:t.type,disabled:t.disabled,loading:t.loading,"form-type":t.formType,"open-type":t.openType,"app-parameter":t.appParameter,"with-credentials":t.withCredentials,lang:t.lang,"hover-start-time":t.hoverStartTime,"hover-stay-time":t.hoverStayTime,"hover-class":t.hoverClass,"session-from":t.sessionFrom,"business-id":t.businessId,"send-message-title":t.sendMessageTitle,"send-message-path":t.sendMessagePath,"send-message-img":t.sendMessageImg,"show-message-card":t.showMessageCard,"need-phone-number":t.needPhoneNumber},on:{click:t.clickHander,getuserinfo:t.bindgetuserinfo,contact:t.bindcontact,getphonenumber:t.bindgetphonenumber,error:t.binderror,opensetting:t.bindopensetting,launchapp:t.bindlaunchapp}},[t._t("default")],2):i("button",{staticClass:"weui-btn",class:t.classObject,attrs:{disabled:t.disabled},on:{click:t.clickHander}},[t.loading?i("i",{staticClass:"weui-loading"}):t._e(),t._t("default")],2)}),[],!1,null,null,null).exports;o.install=function(t){t.component(o.name,o)};e.default=o},function(t,e,i){"use strict";i.r(e);var n=i(0),s={name:"KButtonArea",props:{direction:{type:String,default:function(){return"vertical"}}},data:function(){return{ismp:n.f}},computed:{classObject:function(){return{"weui-btn-area":!0,"weui-btn-area_inline":"horizontal"===this.direction}}}},a=i(1),o=Object(a.a)(s,(function(){var t=this.$createElement;return(this._self._c||t)("div",{class:this.classObject},[this._t("default")],2)}),[],!1,null,null,null).exports;o.install=function(t){t.component(o.name,o)};e.default=o},function(t,e,i){"use strict";i.r(e);var n=i(0),s={name:"KScrollView",props:{scrollX:{type:Boolean,default:!1},scrollY:{type:Boolean,default:!1},enableFlex:{type:Boolean,default:!1},upperThreshold:{type:String,default:"50px"},lowerThreshold:{type:String,default:"50px"},scrollTop:{type:String,default:"0px"},scrollLeft:{type:String,default:"0px"},scrollIntoView:{type:String,default:""},scrollWithAnimation:{type:Boolean,default:!1},scrollAnchoring:{type:Boolean,default:!1}},data:function(){return{ismp:!!n.f,mpScrollLeft:"0px",mpScrollTop:"0px",mpScrollIntoView:""}},watch:{scrollX:function(){this._upperLowerStatusX="initial",this._upperLowerStatusY="initial",this._checkUpperLower()},scrollY:function(){this._upperLowerStatusX="initial",this._upperLowerStatusY="initial",this._checkUpperLower()},upperThreshold:function(t){var e=this.convertPosVal(t);this._upperThreshold=e,this._checkUpperLower()},lowerThreshold:function(t){var e=this.convertPosVal(t);this._lowerThreshold=e,this._checkUpperLower()},scrollTop:function(t){var e=this.convertPosVal(t);this.scrollTo(e,"y")},scrollLeft:function(t){var e=this.convertPosVal(t);this.scrollTo(e,"x")},scrollIntoView:function(t){if(!n.f)if(/^[_a-zA-Z][-_a-zA-Z0-9:]*$/.test(t))if(n.f)this.mpScrollIntoView=t;else{var e=this.$refs.main.getBoundingClientRect(),i=this.$refs.content.querySelector("#"+t).getBoundingClientRect();this.scrollX&&this.scrollTo(this.$refs.main.scrollLeft+i.left-e.left,"x"),this.scrollY&&this.scrollTo(this.$refs.main.scrollTop+i.top-e.top,"y")}else console.info('[KScrollView] "'.concat(t,'" is not a valid id.'))}},mounted:function(){this._upperLowerStatusX="initial",this._upperLowerStatusY="initial",this._upperThreshold=50,this._lowerThreshold=50;var t=this.convertPosVal(this.scrollLeft);this.scrollTo(t,"x");var e=this.convertPosVal(this.scrollTop);this.scrollTo(e,"y")},methods:{convertPosVal:function(t){if("number"==typeof t)return t;var e=String(t);if(/[-.0-9]+(px)?/.test(e))return n.f?e:parseFloat(e,10);console.warn("[KScrollView] Positions only accept px values.")},scrollTo:function(t,e){var i=this;if(n.f)"x"===e?this.mpScrollLeft=t:"y"===e&&(this.mpScrollTop=t);else{var s=this.$refs.main;if(!this.scrollWithAnimation)return this._animationState=void 0,void("x"===e?s.scrollLeft=t:"y"===e&&(s.scrollTop=t));t<0?t=0:"x"===e&&t>s.scrollWidth-s.clientWidth?t=s.scrollWidth-s.clientWidth:"y"===e&&t>s.scrollHeight-s.clientHeight&&(t=s.scrollHeight-s.clientHeight);var a=t-("x"===e?s.scrollLeft:s.scrollTop),o=this._animationState={a:2*a/9e4,endTs:Date.now()+300};window.requestAnimationFrame((function n(){var a=Date.now();if(i._animationState===o)if(a>=o.endTs)"x"===e?s.scrollLeft=t:"y"===e&&(s.scrollTop=t),i._animationState=void 0;else{var r=o.endTs-a,l=.5*o.a*r*r;"x"===e?s.scrollLeft=t-l:"y"===e&&(s.scrollTop=t-l),window.requestAnimationFrame(n)}}))}},mpScrollToUpper:function(){this.$emit("scrolltoupper")},mpScrollToLower:function(){this.$emit("scrolltolower")},scroll:function(t){var e=this.$refs.main,i=n.f?t.detail:{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop,scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth};this.$emit("scroll",{detail:i}),this._checkUpperLower()},_checkUpperLower:function(){var t=this;n.f||this._upperLowerScheduled||(this._upperLowerScheduled=function(){t._upperLowerScheduled=null;var e=t.$refs.main;t._checkUpperLowerWithOffset(e)},this._upperLowerChecking||this._upperLowerScheduled())},_checkUpperLowerWithOffset:function(t){t.scrollTop<=this._upperThreshold?("initial"!==this._upperLowerStatusY&&"upper"!==this._upperLowerStatusY&&this.$emit("scrolltoupper"),this._upperLowerStatusY="upper"):t.scrollTop>=t.scrollHeight-t.clientHeight-this._lowerThreshold?("initial"!==this._upperLowerStatusY&&"lower"!==this._upperLowerStatusY&&this.$emit("scrolltolower"),this._upperLowerStatusY="lower"):this._upperLowerStatusY="center",t.scrollLeft<=this._upperThreshold?("initial"!==this._upperLowerStatusX&&"upper"!==this._upperLowerStatusX&&this.$emit("scrolltoupper"),this._upperLowerStatusX="upper"):t.scrollLeft>=t.scrollWidth-t.clientWidth-this._lowerThreshold?("initial"!==this._upperLowerStatusX&&"lower"!==this._upperLowerStatusX&&this.$emit("scrolltolower"),this._upperLowerStatusX="lower"):this._upperLowerStatusX="center"},touchstart:function(t){this._animationState=void 0,this._x=t.touches[0].clientX,this._y=t.touches[0].clientY,this._noBubble=null,this._preventDefault=!1},touchend:function(){this._noBubble=!1},touchmove:function(t){null===this._noBubble&&this.scrollY&&(Math.abs(this._y-t.touches[0].clientY)/Math.abs(this._x-t.touches[0].clientX)>1?this._noBubble=!0:(this._noBubble=!1,this._preventDefault=!0),this._isScrollingOnBoundary(t)&&(this._noBubble=!1)),null===this._noBubble&&this.scrollX&&(Math.abs(this._x-t.touches[0].clientX)/Math.abs(this._y-t.touches[0].clientY)>1?this._noBubble=!0:(this._noBubble=!1,this._preventDefault=!0),this._isScrollingOnBoundary(t)&&(this._noBubble=!1)),this._noBubble&&t.stopPropagation(),this._preventDefault&&t.preventDefault()},_isScrollingOnBoundary:function(t){if(!this.scrollX&&!this.scrollY)return!1;var e=this.scrollX?t.detail.dx:t.detail.dy,i=t.target,n=this.scrollX?i.scrollLeft:i.scrollTop,s=this.scrollX?i.scrollWidth-i.clientWidth:i.scrollHeight-i.clientHeight;return e>0&&n<=0||e<0&&n>=s}}},a=i(1),o=Object(a.a)(s,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.ismp?i("wx-scroll-view",{ref:"mp",attrs:{"scroll-x":t.scrollX,"scroll-y":t.scrollY,"scroll-top":t.mpScrollTop,"scroll-left":t.mpScrollLeft,"scroll-into-view":t.mpScrollIntoView,"scroll-with-animation":t.scrollWithAnimation,"upper-threshold":t.upperThreshold,"lower-threshold":t.lowerThreshold},on:{scroll:t.scroll,scrolltoupper:t.mpScrollToUpper,scrolltolower:t.mpScrollToLower}},[i("div",{ref:"content",staticStyle:{height:"100%"}},[t._t("default")],2)]):i("div",{ref:"wrap",on:{touchstart:t.touchstart,touchmove:t.touchmove,touchend:t.touchend}},[i("div",{ref:"main",style:{height:"100%",overflowX:t.scrollX?"auto":"hidden",overflowY:t.scrollY?"auto":"hidden"},on:{scroll:t.scroll}},[i("div",{ref:"content",staticStyle:{height:"100%"}},[t._t("default")],2)])])}),[],!1,null,null,null).exports;o.install=function(t){t.component(o.name,o)};e.default=o},function(t,e,i){"use strict";i.r(e);var n={name:"KActionSheet",components:{KMask:i(4).default},props:{actions:{type:Array,required:!0,default:function(){return[]}},value:{type:Boolean,default:!1,required:!0},label:{type:String}},data:function(){return{isShow:this.value}},watch:{value:function(t){this.isShow=t}},methods:{cancelHander:function(t){this.isShow=!1,this.$emit("input",!1),this.$emit("cancel")},clickHander:function(t,e){this.$emit("click",t,e)}}},s=i(1),a=Object(s.a)(n,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("KView",[i("KMask",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],on:{click:t.cancelHander}}),i("KView",{staticClass:"weui-actionsheet",class:{"weui-actionsheet_toggle":t.isShow}},[t.label?i("KView",{staticClass:"weui-actionsheet__title"},[i("KView",{staticClass:"weui-actionsheet__title-text"},[t._v(t._s(t.label))])],1):t._e(),i("KView",{staticClass:"weui-actionsheet__menu"},t._l(t.actions,(function(e,n){return i("KView",{key:n,staticClass:"weui-actionsheet__cell",on:{click:function(i){return t.clickHander(e,n)}}},[t._v(t._s(e))])})),1),i("KView",{staticClass:"weui-actionsheet__action"},[i("KView",{staticClass:"weui-actionsheet__cell",on:{click:t.cancelHander}},[t._v("取消")])],1)],1)],1)}),[],!1,null,null,null).exports;a.install=function(t){t.component(a.name,a)};e.default=a},function(t,e,i){"use strict";i.r(e);var n={name:"KDialog",components:{KMask:i(4).default},props:{title:{type:String},desc:{type:String},buttons:{type:Array,default:function(){return[]}},value:{type:Boolean,default:!1}},data:function(){return{isShow:this.value}},watch:{value:function(t){this.isShow=t,!1===t&&this.$emit("cancel")}},methods:{maskClick:function(t){this.isShow=!1,this.$emit("input",!1),this.$emit("cancel",t)}}},s=i(1),a=Object(s.a)(n,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("KView",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}]},[i("KMask",{on:{click:t.maskClick}}),i("KView",{staticClass:"weui-dialog"},[t.title?i("KView",{staticClass:"weui-dialog__hd"},[i("KView",{staticClass:"weui-dialog__title"},[t._v("\n        "+t._s(t.title)+"\n      ")])],1):t._e(),i("KView",{staticClass:"weui-dialog__bd"},[t._v("\n      "+t._s(t.desc)+"\n    ")]),i("KView",{staticClass:"weui-dialog__ft"},t._l(t.buttons,(function(e,n){return i("KView",{key:n,staticClass:"weui-dialog__btn weui-dialog__btn_primary",on:{click:e.click}},[t._v("\n        "+t._s(e.text)+"\n      ")])})),1)],1)],1)}),[],!1,null,null,null).exports;a.install=function(t){t.component(a.name,a)};e.default=a},function(t,e,i){"use strict";i.r(e);var n=i(8),s=i(4),a={name:"KToast",components:{KIcon:n.default,KMask:s.default},props:{type:{type:String,default:"success"},value:{type:Boolean,default:!1},duration:{type:Number}},data:function(){return{isShow:this.value}},computed:{iconType:function(){return"success"===this.type?"success-no-circle":this.type}},watch:{value:function(t){var e=this;t?(this.isShow=!0,this.duration&&(clearTimeout(this.timeout),this.timeout=setTimeout((function(){e.isShow=!1,e.$emit("input",!1)}),this.duration))):this.isShow=!1}}},o=i(1),r=Object(o.a)(a,(function(){var t=this.$createElement,e=this._self._c||t;return e("KView",{directives:[{name:"show",rawName:"v-show",value:this.isShow,expression:"isShow"}]},[e("KMask",{attrs:{transparent:!0}}),e("KView",{staticClass:"weui-toast"},[e("KIcon",{staticClass:"weui-icon_toast",attrs:{type:this.iconType}}),e("KView",{staticClass:"weui-toast_content"},[this._t("default")],2)],1)],1)}),[],!1,null,null,null).exports;r.install=function(t){t.component(r.name,r)};e.default=r},function(t,e,i){"use strict";i.r(e);var n={name:"KProgress",props:{percent:{type:Number,default:0},showInfo:{type:Boolean}}},s=i(1),a=Object(s.a)(n,(function(){var t=this.$createElement,e=this._self._c||t;return e("KView",{staticClass:"weui-progress"},[e("KView",{staticClass:"weui-progress__bar"},[e("KView",{staticClass:"weui-progress__inner-bar",style:{width:this.percent+"%"}})],1),this.showInfo?e("KView",{staticClass:"weui-progress-info"},[this._v("\n    "+this._s(this.percent)+"%\n  ")]):this._e()],1)}),[],!1,null,null,null).exports;a.install=function(t){t.component(a.name,a)};e.default=a},function(t,e,i){"use strict";i.r(e);var n={name:"KToptips",props:{value:{type:Boolean,default:!1},duration:{type:Number},type:{type:String,default:"success"}},data:function(){return{isShow:this.value}},watch:{value:function(t){var e=this;t?(this.isShow=!0,this.duration&&(clearTimeout(this.timeout),this.timeout=setTimeout((function(){e.isShow=!1,e.$emit("input",!1)}),this.duration))):this.isShow=!1}}},s=i(1),a=Object(s.a)(n,(function(){var t=this.$createElement;return(this._self._c||t)("KView",{staticClass:"weui-toptips",class:{"weui-toptips_show":this.isShow,"weui-toptips_success":"success"===this.type,"weui-toptips_error":"error"===this.type,"weui-toptips_info":"info"===this.type}},[this._t("default")],2)}),[],!1,null,null,null).exports;a.install=function(t){t.component(a.name,a)};e.default=a},function(t,e,i){"use strict";i.r(e);var n=i(0),s=i(2),a=i(13),o=i(14),r=i(10),l=i(15),h=i(3),c=i(16),u=i(17),d=i(18),p=i(19),f=i(20),m=i(8),v=i(11),g=i(12),_=i(9),w=[s.default,a.default,o.default,r.KFlex,r.KFlexItem,l.default,h.KRadio,h.KCells,h.KCell,h.KCheckbox,h.KCheckboxGroup,h.KSwitch,h.KRadioGroup,h.KInput,h.KSlider,c.default,u.default,d.default,p.default,f.default,v.KPickerView,v.KPickerViewColumn,g.KSwiper,g.KSwiperItem,m.default,_.KMovableArea,_.KMovableView];"undefined"!=typeof window&&window.Vue&&window.Vue.use(WeUI),e.default={version:"0.5.9",ismp:n.f,install:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};w.forEach((function(e){t.component(e.name,e)})),t.prototype.$kbone={size:e.size||"",zIndex:e.zIndex||2e3},t.prototype.$ismp="function"==typeof Page&&"function"==typeof Component},KView:s.default,KButton:a.default,KButtonArea:o.default,KFlex:r.KFlex,KFlexItem:r.KFlexItem,KScrollView:l.default,KRadio:h.KRadio,KCells:h.KCells,KCell:h.KCell,KCheckbox:h.KCheckbox,KCheckboxGroup:h.KCheckboxGroup,KSwitch:h.KSwitch,KRadioGroup:h.KRadioGroup,KInput:h.KInput,KSlider:h.KSlider,KActionSheet:c.default,KDialog:u.default,KToast:d.default,KProgress:p.default,KToptips:f.default,KPickerView:v.KPickerView,KPickerViewColumn:v.KPickerViewColumn,KSwiper:g.KSwiper,KSwiperItem:g.KSwiperItem,KIcon:m.default,KMovableArea:_.KMovableArea,KMovableView:_.KMovableView}}]).default}));